<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµ­ê¸° í€´ì¦ˆ ê²Œì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'ë§‘ì€ ê³ ë”•', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .game-container {
            background: white;
            border-radius: 24px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 10px;
            color: #333;
        }

        .score-board {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 15px 0 25px;
            font-size: 1.2em;
            font-weight: bold;
        }

        .score-board span {
            padding: 8px 20px;
            border-radius: 30px;
            color: white;
        }

        .correct-score {
            background: #4CAF50;
        }

        .wrong-score {
            background: #f44336;
        }

        .question-count {
            background: #2196F3;
        }

        .flag-container {
            margin: 20px auto;
            width: 280px;
            height: 180px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border: 3px solid #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9f9f9;
        }

        .flag-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 25px 0;
        }

        .option-btn {
            padding: 16px 10px;
            font-size: 1.15em;
            font-weight: bold;
            border: 3px solid #ddd;
            border-radius: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            color: #333;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: #f0f0ff;
            transform: scale(1.03);
        }

        .option-btn.correct {
            background: #4CAF50;
            border-color: #4CAF50;
            color: white;
            animation: pop 0.4s ease;
        }

        .option-btn.wrong {
            background: #f44336;
            border-color: #f44336;
            color: white;
            animation: shake 0.4s ease;
        }

        .option-btn:disabled {
            cursor: default;
            transform: none;
        }

        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .message {
            font-size: 1.5em;
            font-weight: bold;
            margin: 15px 0;
            min-height: 45px;
        }

        .message.correct-msg {
            color: #4CAF50;
        }

        .message.wrong-msg {
            color: #f44336;
        }

        .next-btn {
            padding: 14px 50px;
            font-size: 1.2em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            display: none;
            margin: 0 auto;
            transition: transform 0.2s;
        }

        .next-btn:hover {
            transform: scale(1.05);
        }

        /* ì‹œì‘ í™”ë©´ */
        .start-screen {
            padding: 20px;
        }

        .start-screen h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .start-emoji {
            font-size: 4em;
            margin: 20px 0;
        }

        .start-desc {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .start-btn {
            padding: 18px 60px;
            font-size: 1.4em;
            font-weight: bold;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .start-btn:hover {
            transform: scale(1.05);
        }

        /* ê²°ê³¼ í™”ë©´ */
        .result-screen {
            display: none;
            padding: 20px;
        }

        .result-emoji {
            font-size: 5em;
            margin: 20px 0;
        }

        .result-text {
            font-size: 1.8em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .result-detail {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 30px;
        }

        .restart-btn {
            padding: 16px 50px;
            font-size: 1.3em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .restart-btn:hover {
            transform: scale(1.05);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .hint-text {
            font-size: 0.95em;
            color: #999;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="start-screen" id="startScreen">
            <h1>êµ­ê¸° í€´ì¦ˆ</h1>
            <div class="start-emoji">ğŸŒğŸ³ï¸â€ğŸŒˆğŸŒ</div>
            <p class="start-desc">
                ì„¸ê³„ ì—¬ëŸ¬ ë‚˜ë¼ì˜ êµ­ê¸°ë¥¼ ë§ì¶°ë³´ì„¸ìš”!<br>
                ì´ 10ë¬¸ì œê°€ ì¶œì œë©ë‹ˆë‹¤.
            </p>
            <button class="start-btn" onclick="startGame()">ê²Œì„ ì‹œì‘!</button>
        </div>

        <!-- ê²Œì„ í™”ë©´ -->
        <div id="gameScreen" style="display:none;">
            <h1>ì´ êµ­ê¸°ëŠ” ì–´ëŠ ë‚˜ë¼ì¼ê¹Œìš”?</h1>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="score-board">
                <span class="correct-score" id="correctScore">â­• 0</span>
                <span class="wrong-score" id="wrongScore">âŒ 0</span>
                <span class="question-count" id="questionCount">1 / 10</span>
            </div>
            <div class="flag-container">
                <img id="flagImage" src="" alt="êµ­ê¸°">
            </div>
            <div class="hint-text" id="hintText"></div>
            <div class="message" id="message"></div>
            <div class="options" id="options"></div>
            <button class="next-btn" id="nextBtn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ âœ</button>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="result-screen" id="resultScreen">
            <h1>ê²Œì„ ë!</h1>
            <div class="result-emoji" id="resultEmoji"></div>
            <div class="result-text" id="resultText"></div>
            <div class="result-detail" id="resultDetail"></div>
            <button class="restart-btn" onclick="startGame()">ë‹¤ì‹œ í•˜ê¸°</button>
        </div>
    </div>

    <script>
        const countries = [
            { code: 'kr', name: 'ëŒ€í•œë¯¼êµ­', hint: 'ì•„ì‹œì•„' },
            { code: 'jp', name: 'ì¼ë³¸', hint: 'ì•„ì‹œì•„' },
            { code: 'cn', name: 'ì¤‘êµ­', hint: 'ì•„ì‹œì•„' },
            { code: 'us', name: 'ë¯¸êµ­', hint: 'ë¶ì•„ë©”ë¦¬ì¹´' },
            { code: 'gb', name: 'ì˜êµ­', hint: 'ìœ ëŸ½' },
            { code: 'fr', name: 'í”„ë‘ìŠ¤', hint: 'ìœ ëŸ½' },
            { code: 'de', name: 'ë…ì¼', hint: 'ìœ ëŸ½' },
            { code: 'it', name: 'ì´íƒˆë¦¬ì•„', hint: 'ìœ ëŸ½' },
            { code: 'es', name: 'ìŠ¤í˜ì¸', hint: 'ìœ ëŸ½' },
            { code: 'pt', name: 'í¬ë¥´íˆ¬ê°ˆ', hint: 'ìœ ëŸ½' },
            { code: 'nl', name: 'ë„¤ëœë€ë“œ', hint: 'ìœ ëŸ½' },
            { code: 'be', name: 'ë²¨ê¸°ì—', hint: 'ìœ ëŸ½' },
            { code: 'ch', name: 'ìŠ¤ìœ„ìŠ¤', hint: 'ìœ ëŸ½' },
            { code: 'at', name: 'ì˜¤ìŠ¤íŠ¸ë¦¬ì•„', hint: 'ìœ ëŸ½' },
            { code: 'se', name: 'ìŠ¤ì›¨ë´', hint: 'ìœ ëŸ½' },
            { code: 'no', name: 'ë…¸ë¥´ì›¨ì´', hint: 'ìœ ëŸ½' },
            { code: 'dk', name: 'ë´ë§ˆí¬', hint: 'ìœ ëŸ½' },
            { code: 'fi', name: 'í•€ë€ë“œ', hint: 'ìœ ëŸ½' },
            { code: 'pl', name: 'í´ë€ë“œ', hint: 'ìœ ëŸ½' },
            { code: 'gr', name: 'ê·¸ë¦¬ìŠ¤', hint: 'ìœ ëŸ½' },
            { code: 'tr', name: 'íŠ€ë¥´í‚¤ì˜ˆ', hint: 'ì•„ì‹œì•„/ìœ ëŸ½' },
            { code: 'ru', name: 'ëŸ¬ì‹œì•„', hint: 'ìœ ëŸ½/ì•„ì‹œì•„' },
            { code: 'ca', name: 'ìºë‚˜ë‹¤', hint: 'ë¶ì•„ë©”ë¦¬ì¹´' },
            { code: 'mx', name: 'ë©•ì‹œì½”', hint: 'ë¶ì•„ë©”ë¦¬ì¹´' },
            { code: 'br', name: 'ë¸Œë¼ì§ˆ', hint: 'ë‚¨ì•„ë©”ë¦¬ì¹´' },
            { code: 'ar', name: 'ì•„ë¥´í—¨í‹°ë‚˜', hint: 'ë‚¨ì•„ë©”ë¦¬ì¹´' },
            { code: 'au', name: 'í˜¸ì£¼', hint: 'ì˜¤ì„¸ì•„ë‹ˆì•„' },
            { code: 'nz', name: 'ë‰´ì§ˆëœë“œ', hint: 'ì˜¤ì„¸ì•„ë‹ˆì•„' },
            { code: 'in', name: 'ì¸ë„', hint: 'ì•„ì‹œì•„' },
            { code: 'th', name: 'íƒœêµ­', hint: 'ì•„ì‹œì•„' },
            { code: 'vn', name: 'ë² íŠ¸ë‚¨', hint: 'ì•„ì‹œì•„' },
            { code: 'ph', name: 'í•„ë¦¬í•€', hint: 'ì•„ì‹œì•„' },
            { code: 'my', name: 'ë§ë ˆì´ì‹œì•„', hint: 'ì•„ì‹œì•„' },
            { code: 'id', name: 'ì¸ë„ë„¤ì‹œì•„', hint: 'ì•„ì‹œì•„' },
            { code: 'sg', name: 'ì‹±ê°€í¬ë¥´', hint: 'ì•„ì‹œì•„' },
            { code: 'eg', name: 'ì´ì§‘íŠ¸', hint: 'ì•„í”„ë¦¬ì¹´' },
            { code: 'za', name: 'ë‚¨ì•„í”„ë¦¬ì¹´ê³µí™”êµ­', hint: 'ì•„í”„ë¦¬ì¹´' },
            { code: 'ng', name: 'ë‚˜ì´ì§€ë¦¬ì•„', hint: 'ì•„í”„ë¦¬ì¹´' },
            { code: 'ke', name: 'ì¼€ëƒ', hint: 'ì•„í”„ë¦¬ì¹´' },
            { code: 'sa', name: 'ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„', hint: 'ì•„ì‹œì•„' },
            { code: 'ae', name: 'ì•„ëì—ë¯¸ë¦¬íŠ¸', hint: 'ì•„ì‹œì•„' },
            { code: 'il', name: 'ì´ìŠ¤ë¼ì—˜', hint: 'ì•„ì‹œì•„' },
            { code: 'ua', name: 'ìš°í¬ë¼ì´ë‚˜', hint: 'ìœ ëŸ½' },
            { code: 'ie', name: 'ì•„ì¼ëœë“œ', hint: 'ìœ ëŸ½' },
            { code: 'cl', name: 'ì¹ ë ˆ', hint: 'ë‚¨ì•„ë©”ë¦¬ì¹´' },
            { code: 'co', name: 'ì½œë¡¬ë¹„ì•„', hint: 'ë‚¨ì•„ë©”ë¦¬ì¹´' },
            { code: 'pe', name: 'í˜ë£¨', hint: 'ë‚¨ì•„ë©”ë¦¬ì¹´' },
            { code: 'cu', name: 'ì¿ ë°”', hint: 'ë¶ì•„ë©”ë¦¬ì¹´' },
            { code: 'jm', name: 'ìë©”ì´ì¹´', hint: 'ë¶ì•„ë©”ë¦¬ì¹´' },
            { code: 'is', name: 'ì•„ì´ìŠ¬ë€ë“œ', hint: 'ìœ ëŸ½' },
            { code: 'hu', name: 'í—ê°€ë¦¬', hint: 'ìœ ëŸ½' },
            { code: 'cz', name: 'ì²´ì½”', hint: 'ìœ ëŸ½' },
            { code: 'ro', name: 'ë£¨ë§ˆë‹ˆì•„', hint: 'ìœ ëŸ½' },
            { code: 'hr', name: 'í¬ë¡œì•„í‹°ì•„', hint: 'ìœ ëŸ½' },
            { code: 'mn', name: 'ëª½ê³¨', hint: 'ì•„ì‹œì•„' },
            { code: 'np', name: 'ë„¤íŒ”', hint: 'ì•„ì‹œì•„' },
            { code: 'kh', name: 'ìº„ë³´ë””ì•„', hint: 'ì•„ì‹œì•„' },
            { code: 'mm', name: 'ë¯¸ì–€ë§ˆ', hint: 'ì•„ì‹œì•„' },
            { code: 'pk', name: 'íŒŒí‚¤ìŠ¤íƒ„', hint: 'ì•„ì‹œì•„' },
            { code: 'bd', name: 'ë°©ê¸€ë¼ë°ì‹œ', hint: 'ì•„ì‹œì•„' },
        ];

        const TOTAL_QUESTIONS = 10;
        let currentQuestion = 0;
        let correctCount = 0;
        let wrongCount = 0;
        let selectedCountries = [];
        let answered = false;

        function shuffle(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function startGame() {
            currentQuestion = 0;
            correctCount = 0;
            wrongCount = 0;
            selectedCountries = shuffle(countries).slice(0, TOTAL_QUESTIONS);

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';

            showQuestion();
        }

        function showQuestion() {
            answered = false;
            const country = selectedCountries[currentQuestion];

            // êµ­ê¸° ì´ë¯¸ì§€ ë¡œë“œ
            const flagImg = document.getElementById('flagImage');
            flagImg.src = `https://flagcdn.com/w640/${country.code}.png`;
            flagImg.alt = 'êµ­ê¸°';

            // íŒíŠ¸
            document.getElementById('hintText').textContent = `íŒíŠ¸: ${country.hint}`;

            // ë³´ê¸° ë§Œë“¤ê¸° (ì •ë‹µ + ì˜¤ë‹µ 3ê°œ)
            let wrongOptions = countries.filter(c => c.code !== country.code);
            wrongOptions = shuffle(wrongOptions).slice(0, 3);
            let options = shuffle([country, ...wrongOptions]);

            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';

            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = opt.name;
                btn.onclick = () => checkAnswer(btn, opt.code === country.code, country.name);
                optionsDiv.appendChild(btn);
            });

            // UI ì—…ë°ì´íŠ¸
            document.getElementById('correctScore').textContent = `â­• ${correctCount}`;
            document.getElementById('wrongScore').textContent = `âŒ ${wrongCount}`;
            document.getElementById('questionCount').textContent = `${currentQuestion + 1} / ${TOTAL_QUESTIONS}`;
            document.getElementById('progressFill').style.width = `${((currentQuestion) / TOTAL_QUESTIONS) * 100}%`;
            document.getElementById('message').textContent = '';
            document.getElementById('message').className = 'message';
            document.getElementById('nextBtn').style.display = 'none';
        }

        function checkAnswer(btn, isCorrect, correctName) {
            if (answered) return;
            answered = true;

            // ëª¨ë“  ë²„íŠ¼ ë¹„í™œì„±í™”
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(b => {
                b.disabled = true;
                if (b.textContent === correctName) {
                    b.classList.add('correct');
                }
            });

            const messageEl = document.getElementById('message');

            if (isCorrect) {
                correctCount++;
                messageEl.textContent = 'ì •ë‹µì´ì—ìš”! ğŸ‰ ì˜í–ˆì–´ìš”!';
                messageEl.className = 'message correct-msg';
            } else {
                wrongCount++;
                btn.classList.add('wrong');
                messageEl.textContent = `ì•„ì‰¬ì›Œìš”! ì •ë‹µì€ "${correctName}" ì´ì—ìš”`;
                messageEl.className = 'message wrong-msg';
            }

            document.getElementById('correctScore').textContent = `â­• ${correctCount}`;
            document.getElementById('wrongScore').textContent = `âŒ ${wrongCount}`;

            // ë‹¤ìŒ ë²„íŠ¼ ë˜ëŠ” ê²°ê³¼ í‘œì‹œ
            const nextBtn = document.getElementById('nextBtn');
            if (currentQuestion < TOTAL_QUESTIONS - 1) {
                nextBtn.textContent = 'ë‹¤ìŒ ë¬¸ì œ âœ';
            } else {
                nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸° ğŸ†';
            }
            nextBtn.style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion >= TOTAL_QUESTIONS) {
                showResult();
            } else {
                showQuestion();
            }
        }

        function showResult() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';

            const percent = Math.round((correctCount / TOTAL_QUESTIONS) * 100);
            let emoji, text;

            if (percent === 100) {
                emoji = 'ğŸ†ğŸ‘‘ğŸ‰';
                text = 'ì™„ë²½í•´ìš”! êµ­ê¸° ë°•ì‚¬!';
            } else if (percent >= 80) {
                emoji = 'ğŸŒŸğŸ‰';
                text = 'ëŒ€ë‹¨í•´ìš”! ê±°ì˜ ë‹¤ ë§ì•˜ì–´ìš”!';
            } else if (percent >= 60) {
                emoji = 'ğŸ˜ŠğŸ‘';
                text = 'ì˜í–ˆì–´ìš”! ì¡°ê¸ˆë§Œ ë” ê³µë¶€í•´ë´ìš”!';
            } else if (percent >= 40) {
                emoji = 'ğŸ’ªğŸ˜€';
                text = 'ê´œì°®ì•„ìš”! ë‹¤ì‹œ ë„ì „í•´ë´ìš”!';
            } else {
                emoji = 'ğŸ“šğŸŒ';
                text = 'êµ­ê¸°ë¥¼ ë” ê³µë¶€í•´ë´ìš”! í™”ì´íŒ…!';
            }

            document.getElementById('resultEmoji').textContent = emoji;
            document.getElementById('resultText').textContent = text;
            document.getElementById('resultDetail').textContent = `${TOTAL_QUESTIONS}ë¬¸ì œ ì¤‘ ${correctCount}ê°œ ì •ë‹µ! (${percent}%)`;
        }
    </script>
</body>
</html>
